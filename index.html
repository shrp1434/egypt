<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Egypt Adventure Countdown</title>
<style>
  /* Reset & base */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
      Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
    background: url('https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=1920&q=80') center/cover no-repeat;
    background-color: rgba(40, 30, 0, 0.65);
    background-blend-mode: overlay;
    color: #1c1c1e;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    padding: 40px 15px;
  }

  /* Container with iOS 16 style blur and rounded corners */
  .overlay {
    background: rgba(255 255 255 / 0.85);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    border-radius: 28px;
    padding: 30px 40px;
    max-width: 700px;
    width: 100%;
    box-shadow:
      0 8px 24px rgb(0 0 0 / 0.12),
      0 0 0 1px rgb(0 0 0 / 0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    font-weight: 700;
    font-size: 2.8rem;
    margin-bottom: 12px;
    color: #ff9500;
    text-shadow: 0 1px 3px rgba(255 149 0 / 0.3);
  }

  /* Countdown */
  #countdown-container {
    background: #ffcc33;
    border-radius: 20px;
    width: 100%;
    max-width: 650px;
    padding: 32px 0;
    box-shadow:
      0 12px 24px rgb(255 204 51 / 0.5);
    margin: 30px 0 50px 0;
    text-align: center;
  }
  #js-countdown {
    font-weight: 900;
    font-size: 4.8rem;
    color: #1a237e;
    letter-spacing: 5px;
    user-select: none;
    margin: 0;
    font-feature-settings: "tnum";
  }

  /* Music Controls */
  #music-controls {
    margin-bottom: 25px;
    width: 100%;
    max-width: 650px;
    display: flex;
    justify-content: center;
    gap: 16px;
  }
  #music-controls button {
    background: #ffcc33;
    border: none;
    border-radius: 20px;
    padding: 14px 28px;
    font-weight: 700;
    font-size: 1rem;
    color: #3e2723;
    box-shadow:
      0 8px 12px rgb(255 204 51 / 0.5);
    cursor: pointer;
    transition: background-color 0.3s;
    flex: 1;
  }
  #music-controls button:hover:not(:disabled) {
    background-color: #d4a00d;
  }
  #music-controls button:disabled {
    cursor: default;
    opacity: 0.6;
  }

  /* Game Section */
  .game-section {
    width: 100%;
    max-width: 480px;
    background: rgba(255 255 255 / 0.9);
    border-radius: 24px;
    box-shadow:
      0 8px 20px rgb(0 0 0 / 0.1);
    padding: 28px 32px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .game-section h2 {
    font-weight: 700;
    font-size: 1.6rem;
    color: #bf360c;
    margin-top: 0;
    margin-bottom: 16px;
  }

  label {
    font-weight: 600;
    font-size: 1rem;
    color: #4e342e;
  }

  input[type="text"] {
    font-size: 1rem;
    padding: 10px 14px;
    border-radius: 18px;
    border: 1.5px solid #d7ccc8;
    margin: 12px 0 20px 0;
    width: 100%;
    max-width: 260px;
    transition: border-color 0.3s;
    outline-offset: 2px;
  }
  input[type="text"]:focus {
    border-color: #ff6f00;
    outline: none;
  }

  .status {
    font-weight: 700;
    font-size: 1.1rem;
    color: #d84315;
    margin: 10px 0 18px 0;
  }

  #game-area {
    width: 100%;
    height: 280px;
    background-color: #fff8e1;
    border-radius: 22px;
    box-shadow:
      inset 0 0 12px #ffd54f;
    position: relative;
    overflow: hidden;
    margin-bottom: 24px;
    user-select: none;
  }

  #camel {
    font-size: 3.2rem;
    position: absolute;
    cursor: pointer;
    transition: all 0.3s ease;
    text-shadow: 0 1px 4px rgb(139 111 0 / 0.7);
  }
  #camel:focus {
    outline: 2.5px solid #ff6f00;
    outline-offset: 3px;
  }

  #start-btn {
    background: #ffcc33;
    border: none;
    border-radius: 24px;
    padding: 14px 28px;
    font-weight: 700;
    font-size: 1.1rem;
    color: #3e2723;
    cursor: pointer;
    box-shadow:
      0 8px 15px rgb(255 204 51 / 0.6);
    transition: background-color 0.3s;
    margin-bottom: 20px;
    width: 100%;
    max-width: 260px;
  }
  #start-btn:hover {
    background-color: #d4a00d;
  }

  /* Leaderboard table */
  table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 12px;
    font-size: 1rem;
  }
  th, td {
    text-align: left;
    padding: 14px 18px;
    color: #4e342e;
  }
  thead th {
    font-weight: 700;
    font-size: 1.1rem;
    background: #ffe082;
    border-radius: 14px 14px 0 0;
    box-shadow:
      inset 0 -1px 0 rgb(0 0 0 / 0.1);
  }
  tbody tr {
    background: #fff9c4;
    border-radius: 14px;
    box-shadow:
      0 2px 5px rgb(0 0 0 / 0.05);
  }
  tbody tr + tr {
    margin-top: 10px;
  }
  tbody td {
    border-top: 1px solid #fff176;
  }

  /* Footer */
  footer {
    margin-top: 40px;
    font-size: 0.9rem;
    color: #666;
    text-align: center;
    user-select: none;
  }

  /* Responsive tweaks */
  @media (max-width: 480px) {
    #js-countdown {
      font-size: 3.2rem;
    }
    #countdown-container {
      padding: 28px 0;
    }
    .overlay {
      padding: 24px 20px;
    }
  }
</style>
</head>
<body>
  <div class="overlay" role="main" aria-label="Egypt Adventure Countdown">
    <h1>üá™üá¨ Countdown to My Egypt Adventure üê™</h1>

    <div id="countdown-container" aria-live="polite">
      <p id="js-countdown">Loading...</p>
    </div>

    <div id="music-controls">
      <button id="play-music-btn" aria-label="Play music">‚ñ∂Ô∏è Play Music</button>
      <button id="toggle-music-btn" aria-label="Mute music" disabled>üîà Mute Music</button>
    </div>

    <div class="game-section">
      <h2>üê´ Catch the Camel!</h2>
      <label for="username">Enter your name:</label><br />
      <input
        type="text"
        id="username"
        placeholder="Your name"
        autocomplete="off"
        aria-required="true"
      />
      <button id="start-btn" aria-label="Start game">üéÆ Start Game</button>
      <p class="status" aria-live="polite">Lives: <span id="lives">3</span> | Score: <span id="score">0</span></p>
      <div id="game-area" aria-label="Game play area" role="region" tabindex="0">
        <div id="camel" role="button" tabindex="0" aria-pressed="false">üê´</div>
      </div>
      <h3>üèÜ Leaderboard</h3>
      <table id="leaderboard" aria-label="Game leaderboard">
        <thead>
          <tr><th>Username</th><th>Score</th></tr>
        </thead>
        <tbody id="leaderboard-body"></tbody>
      </table>
    </div>
  </div>

  <footer>Made by Shravan</footer>

  <script>
    // Countdown Logic
    const countdownEl = document.getElementById('js-countdown');
    const targetDate = new Date('2025-09-01T00:00:00Z').getTime();

    function updateCountdown() {
      const now = Date.now();
      const diff = targetDate - now;

      if (diff <= 0) {
        countdownEl.textContent = 'Your adventure is here!';
        clearInterval(cdInterval);
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const mins = Math.floor((diff / (1000 * 60)) % 60);
      const secs = Math.floor((diff / 1000) % 60);

      countdownEl.textContent =
        (days ? days + 'd ' : '') +
        hours.toString().padStart(2, '0') + 'h ' +
        mins.toString().padStart(2, '0') + 'm ' +
        secs.toString().padStart(2, '0') + 's';
    }

    const cdInterval = setInterval(updateCountdown, 1000);
    updateCountdown();

    // Game & leaderboard logic
    const camel = document.getElementById('camel');
    const livesEl = document.getElementById('lives');
    const scoreEl = document.getElementById('score');
    const leaderboardBody = document.getElementById('leaderboard-body');
    const usernameInput = document.getElementById('username');
    const gameArea = document.getElementById('game-area');
    const startBtn = document.getElementById('start-btn');
    const playMusicBtn = document.getElementById('play-music-btn');
    const toggleMusicBtn = document.getElementById('toggle-music-btn');

    let score = 0,
      lives = 3,
      gameStarted = false,
      moveInterval;

    // Load leaderboard from localStorage or init empty
    let leaderboard = JSON.parse(localStorage.getItem('camelLeaderboard')) || {};

    function saveLeaderboard() {
      localStorage.setItem('camelLeaderboard', JSON.stringify(leaderboard));
    }

    function updateLeaderboardUI() {
      leaderboardBody.innerHTML = '';
      Object.entries(leaderboard)
        .sort((a, b) => b[1] - a[1])
        .forEach(([user, sc]) => {
          const row = document.createElement('tr');
          row.innerHTML = `<td>${user}</td><td>${sc}</td>`;
          leaderboardBody.appendChild(row);
        });
    }

    function moveCamel(speed = 2000) {
      if (!gameStarted || lives <= 0) return;
      const maxX = gameArea.clientWidth - camel.offsetWidth;
      const maxY = gameArea.clientHeight - camel.offsetHeight;
      const x = Math.random() * maxX;
      const y = Math.random() * maxY;
      camel.style.left = x + 'px';
      camel.style.top = y + 'px';
    }

    camel.addEventListener('click', () => {
      if (!gameStarted || lives <= 0) return;
      score++;
      scoreEl.textContent = score;

      const user = usernameInput.value.trim() || 'Anonymous';
      // Update leaderboard if better score
      if (!leaderboard[user] || leaderboard[user] < score) {
        leaderboard[user] = score;
        saveLeaderboard();
        updateLeaderboardUI();
      }

      const speed = Math.max(500, 2000 - score * 100);
      moveCamel(speed);

      clearInterval(moveInterval);
      moveInterval = setInterval(() => {
        lives--;
        livesEl.textContent = lives;
        if (lives <= 0) {
          alert(`Game Over! Score: ${score}`);
          gameStarted = false;
          clearInterval(moveInterval);
          camel.style.display = 'none';
          return;
        }
        moveCamel(speed);
      }, speed);
    });

    startBtn.addEventListener('click', () => {
      if (!usernameInput.value.trim()) {
        alert('Please enter your name to start.');
        usernameInput.focus();
        return;
      }

      score = 0;
      lives = 3;
      scoreEl.textContent = score;
      livesEl.textContent = lives;
      gameStarted = true;
      camel.style.display = 'block';

      const speed = 2000;
      moveCamel(speed);

      clearInterval(moveInterval);
      moveInterval = setInterval(() => {
        lives--;
        livesEl.textContent = lives;
        if (lives <= 0) {
          alert(`Game Over! Score: ${score}`);
          gameStarted = false;
          clearInterval(moveInterval);
          camel.style.display = 'none';
          return;
        }
        moveCamel(speed);
      }, speed);
    });

    // Init leaderboard UI on page load
    updateLeaderboardUI();

    // Music setup
    // NOTE: You need to put your music file locally or in a relative path in your project.
    // Replace 'local_music.mp3' with your actual music filename and path.
    const bg = new Audio('local_music.mp3');
    bg.loop = true;
    bg.volume = 0.3;

    playMusicBtn.addEventListener('click', () => {
      bg.play();
      playMusicBtn.disabled = true;
      toggleMusicBtn.disabled = false;
    });

    toggleMusicBtn.addEventListener('click', () => {
      if (bg.paused) {
        bg.play();
        toggleMusicBtn.textContent = 'üîà Mute Music';
      } else {
        bg.pause();
        toggleMusicBtn.textContent = 'üîä Play Music';
      }
    });
  </script>
</body>
</html>

